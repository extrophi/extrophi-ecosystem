<!-- Source: https://docs.astro.build/en/guides/data-fetching/ -->

[Skip to content](#_top)

Search

[GitHub](https://github.com/withastro/astro)[Discord](https://astro.build/chat)

Select theme

DarkLightAuto

Select language

EnglishDeutschPortugu√™s do BrasilEspa√±olÁÆÄ‰Ωì‰∏≠ÊñáÊ≠£È´î‰∏≠ÊñáFran√ßais‡§π‡§ø‡§®‡•ç‡§¶‡•ÄÿßŸÑÿπÿ±ÿ®Ÿäÿ©Êó•Êú¨Ë™ûÌïúÍµ≠Ïñ¥Polski–†—É—Å—Å–∫–∏–πItaliano

* [Start](#__tab-start)
* [Guides and recipes](#__tab-guides-and-recipes)
* [Reference](#__tab-reference)
* [Integrations](#__tab-integrations)
* [Third-party services](#__tab-third-party-services)

* [Getting started](/en/getting-started/)
* Welcome, world!

  + [Why Astro?](/en/concepts/why-astro/)
  + [Islands architecture](/en/concepts/islands/)
  + [Tutorial: Build a blog](/en/tutorial/0-introduction/)
  + [Courses](/en/astro-courses/)
* Start a new project

  + [Installation](/en/install-and-setup/)
  + [Project structure](/en/basics/project-structure/)
  + [Develop and build](/en/develop-and-build/)
* Configuration

  + [Configuration overview](/en/guides/configuring-astro/)
  + [Editor setup](/en/editor-setup/)
  + [TypeScript](/en/guides/typescript/)
  + [Environment variables](/en/guides/environment-variables/)
  + [Build with AI](/en/guides/build-with-ai/)
  + [Dev toolbar](/en/guides/dev-toolbar/)
* Migrate to Astro

  + [Site migration overview](/en/guides/migrate-to-astro/)
  + [Create React App](/en/guides/migrate-to-astro/from-create-react-app/)
  + [Docusaurus](/en/guides/migrate-to-astro/from-docusaurus/)
  + [Eleventy](/en/guides/migrate-to-astro/from-eleventy/)
  + [Gatsby](/en/guides/migrate-to-astro/from-gatsby/)
  + [GitBook](/en/guides/migrate-to-astro/from-gitbook/)
  + [Gridsome](/en/guides/migrate-to-astro/from-gridsome/)
  + [Hugo](/en/guides/migrate-to-astro/from-hugo/)
  + [Jekyll](/en/guides/migrate-to-astro/from-jekyll/)
  + [Next.js](/en/guides/migrate-to-astro/from-nextjs/)
  + [NuxtJS](/en/guides/migrate-to-astro/from-nuxtjs/)
  + [Pelican](/en/guides/migrate-to-astro/from-pelican/)
  + [SvelteKit](/en/guides/migrate-to-astro/from-sveltekit/)
  + [VuePress](/en/guides/migrate-to-astro/from-vuepress/)
  + [WordPress](/en/guides/migrate-to-astro/from-wordpress/)

* Routing and navigation

  + [Pages](/en/basics/astro-pages/)
  + [Routing](/en/guides/routing/)
  + [Endpoints](/en/guides/endpoints/)
  + [Middleware](/en/guides/middleware/)
  + [Internationalization (i18n)](/en/guides/internationalization/)
  + [Prefetch](/en/guides/prefetch/)
  + [View transitions](/en/guides/view-transitions/)
* Build your UI

  + [Components](/en/basics/astro-components/)
  + [Layouts](/en/basics/layouts/)
  + [Styles and CSS](/en/guides/styling/)
  + [Fonts](/en/guides/fonts/)
  + [Syntax Highlighting](/en/guides/syntax-highlighting/)
  + [Scripts and event handling](/en/guides/client-side-scripts/)
  + [Front-end frameworks](/en/guides/framework-components/)
* Add content to your site

  + [Markdown](/en/guides/markdown-content/)
  + [Content collections](/en/guides/content-collections/)
  + [Images](/en/guides/images/)
  + [Data fetching](/en/guides/data-fetching/)
  + [Astro DB](/en/guides/astro-db/)
* Server rendering

  + [On-demand rendering](/en/guides/on-demand-rendering/)
  + [Server islands](/en/guides/server-islands/)
  + [Actions](/en/guides/actions/)
  + [Sessions](/en/guides/sessions/)
* Upgrade

  + [Upgrade Astro](/en/upgrade-astro/)
  + Major upgrade guides

    - [v5.0](/en/guides/upgrade-to/v5/)
    - [v4.0](/en/guides/upgrade-to/v4/)
    - [v3.0](/en/guides/upgrade-to/v3/)
    - [v2.0](/en/guides/upgrade-to/v2/)
    - [v1.0](/en/guides/upgrade-to/v1/)
* [Troubleshooting](/en/guides/troubleshooting/)
* How-to recipes

  + [Recipes overview](/en/recipes/)
  + [Installing a Vite or Rollup plugin](/en/recipes/add-yaml-support/)
  + [Analyze bundle size](/en/recipes/analyze-bundle-size/)
  + [Build a custom image component](/en/recipes/build-custom-img-component/)
  + [Build HTML forms in Astro pages](/en/recipes/build-forms/)
  + [Build forms with API routes](/en/recipes/build-forms-api/)
  + [Use Bun with Astro](/en/recipes/bun/)
  + [Call endpoints from the server](/en/recipes/call-endpoints/)
  + [Verify a Captcha](/en/recipes/captcha/)
  + [Customize file names in the build output](/en/recipes/customizing-output-filenames/)
  + [Build your Astro site with Docker](/en/recipes/docker/)
  + [Dynamically import images](/en/recipes/dynamically-importing-images/)
  + [Add icons to external links](/en/recipes/external-links/)
  + [Add i18n features](/en/recipes/i18n/)
  + [Create a dev toolbar app](/en/recipes/making-toolbar-apps/)
  + [Add last modified time](/en/recipes/modified-time/)
  + [Add reading time](/en/recipes/reading-time/)
  + [Add an RSS feed](/en/recipes/rss/)
  + [Share state between Astro components](/en/recipes/sharing-state/)
  + [Share state between islands](/en/recipes/sharing-state-islands/)
  + [Using streaming to improve page performance](/en/recipes/streaming-improve-page-performance/)
  + [Style rendered Markdown with Tailwind Typography](/en/recipes/tailwind-rendered-markdown/)
* [Contribute to Astro](/en/contribute/)

* Astro Template Syntax

  + [Template expressions reference](/en/reference/astro-syntax/)
  + [Template directives reference](/en/reference/directives-reference/)
* [Configuration Reference](/en/reference/configuration-reference/)
* [CLI Commands](/en/reference/cli-reference/)
* [Imports reference](/en/guides/imports/)
* [Routing Reference](/en/reference/routing-reference/)
* Runtime API

  + [Render context](/en/reference/api-reference/)
  + [astro:actions](/en/reference/modules/astro-actions/)
  + [astro:assets](/en/reference/modules/astro-assets/)
  + [astro:config](/en/reference/modules/astro-config/)
  + [astro:content](/en/reference/modules/astro-content/)
  + [astro:env](/en/reference/modules/astro-env/)
  + [astro:i18n](/en/reference/modules/astro-i18n/)
  + [astro:middleware](/en/reference/modules/astro-middleware/)
  + [astro:transitions](/en/reference/modules/astro-transitions/)
* Other development APIs

  + [Integration API](/en/reference/integrations-reference/)
  + [Adapter API](/en/reference/adapter-reference/)
  + [Content Loader API](/en/reference/content-loader-reference/)
  + [Image Service API](/en/reference/image-service-reference/)
  + [Dev Toolbar App API](/en/reference/dev-toolbar-app-reference/)
  + [Container API (experimental)](/en/reference/container-reference/)
  + [Programmatic Astro API (experimental)](/en/reference/programmatic-reference/)
* Experimental features

  + [Configuring experimental flags](/en/reference/experimental-flags/)
  + [Content Security Policy](/en/reference/experimental-flags/csp/)
  + [Fonts](/en/reference/experimental-flags/fonts/)
  + [Live content collections](/en/reference/experimental-flags/live-content-collections/)
  + [Client prerendering](/en/reference/experimental-flags/client-prerender/)
  + [Intellisense for collections](/en/reference/experimental-flags/content-intellisense/)
  + [Preserve scripts order](/en/reference/experimental-flags/preserve-scripts-order/)
  + [Markdown heading ID compatibility](/en/reference/experimental-flags/heading-id-compat/)
  + [Private meta environment variables inlining](/en/reference/experimental-flags/static-import-meta-env/)
  + [Chrome DevTools workspace](/en/reference/experimental-flags/chrome-devtools-workspace/)
  + [Prerender conflict error](/en/reference/experimental-flags/fail-on-prerender-conflict/)
* [Legacy flags](/en/reference/legacy-flags/)
* [Error reference](/en/reference/error-reference/)

* [Integrations overview](/en/guides/integrations-guide/)
* UI frameworks

  + [Alpine.js](/en/guides/integrations-guide/alpinejs/)
  + [Preact](/en/guides/integrations-guide/preact/)
  + [React](/en/guides/integrations-guide/react/)
  + [SolidJS](/en/guides/integrations-guide/solid-js/)
  + [Svelte](/en/guides/integrations-guide/svelte/)
  + [Vue](/en/guides/integrations-guide/vue/)
* Adapters

  + [Cloudflare](/en/guides/integrations-guide/cloudflare/)
  + [Netlify](/en/guides/integrations-guide/netlify/)
  + [Node](/en/guides/integrations-guide/node/)
  + [Vercel](/en/guides/integrations-guide/vercel/)
* Other official integrations

  + [DB](/en/guides/integrations-guide/db/)
  + [Markdoc](/en/guides/integrations-guide/markdoc/)
  + [MDX](/en/guides/integrations-guide/mdx/)
  + [Partytown](/en/guides/integrations-guide/partytown/)
  + [Sitemap](/en/guides/integrations-guide/sitemap/)
* [Publish to npm](/en/reference/publish-to-npm/)

* Deployment guides

  + [Deployment overview](/en/guides/deploy/)
  + [AWS](/en/guides/deploy/aws/)
  + [Azion](/en/guides/deploy/azion/)
  + [Buddy](/en/guides/deploy/buddy/)
  + [Cleavr](/en/guides/deploy/cleavr/)
  + [Clever Cloud](/en/guides/deploy/clever-cloud/)
  + [Cloudflare](/en/guides/deploy/cloudflare/)
  + [CloudRay](/en/guides/deploy/cloudray/)
  + [Deno](/en/guides/deploy/deno/)
  + [DeployHQ](/en/guides/deploy/deployhq/)
  + [Fleek](/en/guides/deploy/fleek/)
  + [Flightcontrol](/en/guides/deploy/flightcontrol/)
  + [Fly.io](/en/guides/deploy/flyio/)
  + [GitHub Pages](/en/guides/deploy/github/)
  + [GitLab Pages](/en/guides/deploy/gitlab/)
  + [Google Cloud](/en/guides/deploy/google-cloud/)
  + [Google Firebase](/en/guides/deploy/google-firebase/)
  + [Heroku](/en/guides/deploy/heroku/)
  + [Juno](/en/guides/deploy/juno/)
  + [Kinsta](/en/guides/deploy/kinsta/)
  + [Microsoft Azure](/en/guides/deploy/microsoft-azure/)
  + [Netlify](/en/guides/deploy/netlify/)
  + [Railway](/en/guides/deploy/railway/)
  + [Render](/en/guides/deploy/render/)
  + [Seenode](/en/guides/deploy/seenode/)
  + [SST](/en/guides/deploy/sst/)
  + [Stormkit](/en/guides/deploy/stormkit/)
  + [Surge](/en/guides/deploy/surge/)
  + [Vercel](/en/guides/deploy/vercel/)
  + [Zeabur](/en/guides/deploy/zeabur/)
  + [Zephyr Cloud](/en/guides/deploy/zephyr/)
  + [Zerops](/en/guides/deploy/zerops/)
* Content management systems

  + [CMS overview](/en/guides/cms/)
  + [ApostropheCMS](/en/guides/cms/apostrophecms/)
  + [Builder.io](/en/guides/cms/builderio/)
  + [ButterCMS](/en/guides/cms/buttercms/)
  + [Caisy](/en/guides/cms/caisy/)
  + [CloudCannon](/en/guides/cms/cloudcannon/)
  + [Contentful](/en/guides/cms/contentful/)
  + [Cosmic](/en/guides/cms/cosmic/)
  + [Craft CMS](/en/guides/cms/craft-cms/)
  + [Craft Cross CMS](/en/guides/cms/craft-cross-cms/)
  + [Crystallize](/en/guides/cms/crystallize/)
  + [DatoCMS](/en/guides/cms/datocms/)
  + [Decap CMS](/en/guides/cms/decap-cms/)
  + [Directus](/en/guides/cms/directus/)
  + [Drupal](/en/guides/cms/drupal/)
  + [Flotiq](/en/guides/cms/flotiq/)
  + [Front Matter CMS](/en/guides/cms/frontmatter-cms/)
  + [Ghost](/en/guides/cms/ghost/)
  + [GitCMS](/en/guides/cms/gitcms/)
  + [Hashnode](/en/guides/cms/hashnode/)
  + [Hygraph](/en/guides/cms/hygraph/)
  + [JekyllPad](/en/guides/cms/jekyllpad/)
  + [Keystatic](/en/guides/cms/keystatic/)
  + [KeystoneJS](/en/guides/cms/keystonejs/)
  + [Kontent.ai](/en/guides/cms/kontent-ai/)
  + [microCMS](/en/guides/cms/microcms/)
  + [Optimizely CMS](/en/guides/cms/optimizely/)
  + [Payload CMS](/en/guides/cms/payload/)
  + [Prepr CMS](/en/guides/cms/preprcms/)
  + [Prismic](/en/guides/cms/prismic/)
  + [Sanity](/en/guides/cms/sanity/)
  + [Sitecore XM](/en/guides/cms/sitecore/)
  + [Sitepins](/en/guides/cms/sitepins/)
  + [Spinal](/en/guides/cms/spinal/)
  + [Statamic](/en/guides/cms/statamic/)
  + [Storyblok](/en/guides/cms/storyblok/)
  + [Strapi](/en/guides/cms/strapi/)
  + [StudioCMS](/en/guides/cms/studiocms/)
  + [Tina CMS](/en/guides/cms/tina-cms/)
  + [Umbraco](/en/guides/cms/umbraco/)
  + [Wordpress](/en/guides/cms/wordpress/)
* Backend services

  + [Backend services overview](/en/guides/backend/)
  + [Appwrite](/en/guides/backend/appwriteio/)
  + [Firebase](/en/guides/backend/google-firebase/)
  + [Neon](/en/guides/backend/neon/)
  + [Prisma Postgres](/en/guides/backend/prisma-postgres/)
  + [Sentry](/en/guides/backend/sentry/)
  + [Supabase](/en/guides/backend/supabase/)
  + [Turso](/en/guides/backend/turso/)
  + [Xata](/en/guides/backend/xata/)
* Image and video hosting

  + [Media hosting overview](/en/guides/media/)
  + [Cloudinary](/en/guides/media/cloudinary/)
  + [Mux](/en/guides/media/mux/)
* [E-commerce](/en/guides/ecommerce/)
* [Authentication](/en/guides/authentication/)
* [Testing](/en/guides/testing/)

## Sponsored by

[GitHub](https://github.com/withastro/astro)[Discord](https://astro.build/chat)

Select theme

DarkLightAuto

Select language

EnglishDeutschPortugu√™s do BrasilEspa√±olÁÆÄ‰Ωì‰∏≠ÊñáÊ≠£È´î‰∏≠ÊñáFran√ßais‡§π‡§ø‡§®‡•ç‡§¶‡•ÄÿßŸÑÿπÿ±ÿ®Ÿäÿ©Êó•Êú¨Ë™ûÌïúÍµ≠Ïñ¥Polski–†—É—Å—Å–∫–∏–πItaliano

## Sponsored by

On this page

* [Overview](#_top)
* [fetch() in Astro](#fetch-in-astro)
* [fetch() in Framework Components](#fetch-in-framework-components)
* [GraphQL queries](#graphql-queries)
* [Fetch from a Headless CMS](#fetch-from-a-headless-cms)
* [Community resources](#community-resources)

## On this page

* [Overview](#_top)
* [fetch() in Astro](#fetch-in-astro)
* [fetch() in Framework Components](#fetch-in-framework-components)
* [GraphQL queries](#graphql-queries)
* [Fetch from a Headless CMS](#fetch-from-a-headless-cms)
* [Community resources](#community-resources)

![](/_astro/CodingInPublic.DpaYu7Qd_5sx41.webp)

## Learn Astro with **Coding in Public**

150+ video lessons
‚Ä¢
Astro v5 ready

[Get 33% off](https://learnastro.dev?code=ASTRO_HOLIDAY_PROMO)

# Data fetching

`.astro` files can fetch remote data to help you generate your pages.

## `fetch()` in Astro

[Section titled ‚Äúfetch() in Astro‚Äù](#fetch-in-astro)

All [Astro components](/en/basics/astro-components/) have access to the [global `fetch()` function](https://developer.mozilla.org/en-US/docs/Web/API/fetch) in their component script to make HTTP requests to APIs using the full URL (e.g. `https://example.com/api`).
Additionally, you can construct a URL to your project‚Äôs pages and endpoints that are rendered on demand on the server using [`new URL("/api", Astro.url)`](/en/reference/api-reference/#url).

This fetch call will be executed at build time, and the data will be available to the component template for generating dynamic HTML. If [SSR](/en/guides/on-demand-rendering/) mode is enabled, any fetch calls will be executed at runtime.

üí° Take advantage of [**top-level `await`**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await#top_level_await) inside of your Astro component script.

üí° Pass fetched data to both Astro and framework components, as props.

src/components/User.astro

```
---

import Contact from "../components/Contact.jsx";

import Location from "../components/Location.astro";

const response = await fetch("https://randomuser.me/api/");

const data = await response.json();

const randomUser = data.results[0];

---

<!-- Data fetched at build can be rendered in HTML -->

<h1>User</h1>

<h2>{randomUser.name.first} {randomUser.name.last}</h2>

<!-- Data fetched at build can be passed to components as props -->

<Contact client:load email={randomUser.email} />

<Location city={randomUser.location.city} />
```

Note

Remember, all data in Astro components is fetched when a component is rendered.

Your deployed Astro site will fetch data **once, at build time**. In dev, you will see data fetches on component refreshes. If you need to re-fetch data multiple times client-side, use a [framework component](/en/guides/framework-components/) or a [client-side script](/en/guides/client-side-scripts/) in an Astro component.

## `fetch()` in Framework Components

[Section titled ‚Äúfetch() in Framework Components‚Äù](#fetch-in-framework-components)

The `fetch()` function is also globally available to any [framework components](/en/guides/framework-components/):

src/components/Movies.tsx

```
import type { FunctionalComponent } from 'preact';

const data = await fetch('https://example.com/movies.json').then((response) => response.json());

// Components that are build-time rendered also log to the CLI.

// When rendered with a `client:*` directive, they also log to the browser console.

console.log(data);

const Movies: FunctionalComponent = () => {

// Output the result to the page

return <div>{JSON.stringify(data)}</div>;

};

export default Movies;
```

## GraphQL queries

[Section titled ‚ÄúGraphQL queries‚Äù](#graphql-queries)

Astro can also use `fetch()` to query a GraphQL server with any valid GraphQL query.

src/components/Film.astro

```
---

const response = await fetch(

"https://swapi-graphql.netlify.app/.netlify/functions/index",

{

method: "POST",

headers: { "Content-Type": "application/json" },

body: JSON.stringify({

query: `

query getFilm ($id:ID!) {

film(id: $id) {

title

releaseDate

}

}

`,

variables: {

id: "ZmlsbXM6MQ==",

},

}),

}

);

const json = await response.json();

const { film } = json.data;

---

<h1>Fetching information about Star Wars: A New Hope</h1>

<h2>Title: {film.title}</h2>

<p>Year: {film.releaseDate}</p>
```

## Fetch from a Headless CMS

[Section titled ‚ÄúFetch from a Headless CMS‚Äù](#fetch-from-a-headless-cms)

Astro components can fetch data from your favorite CMS and then render it as your page content. Using [dynamic routes](/en/guides/routing/#dynamic-routes), components can even generate pages based on your CMS content.

See our [CMS Guides](/en/guides/cms/) for full details on integrating Astro with headless CMSes including Storyblok, Contentful, and WordPress.

## Community resources

[Section titled ‚ÄúCommunity resources‚Äù](#community-resources)

* [Creating a fullstack app with Astro + GraphQL](https://robkendal.co.uk/blog/how-to-build-astro-site-with-graphql/)

Learn

![](/_astro/CodingInPublic.DpaYu7Qd_5sx41.webp)

## Learn Astro with **Coding in Public**

150+ video lessons
‚Ä¢
Astro v5 ready

[Get 33% off](https://learnastro.dev?code=ASTRO_HOLIDAY_PROMO)

[Edit page](https://github.com/withastro/docs/edit/main/src/content/docs/en/guides/data-fetching.mdx)
[Translate this page](https://contribute.docs.astro.build/guides/i18n/)

[Previous

Images](/en/guides/images/)
[Next

Astro DB](/en/guides/astro-db/)

[Contribute](/en/contribute/)
[Community](https://astro.build/chat)
[Sponsor](https://opencollective.com/astrodotbuild)